# Set index.php as default directory index (with index.html as fallback)
DirectoryIndex index.php index.html

# Custom 404 error page
ErrorDocument 404 /404.html

# Enable URL rewriting
RewriteEngine On

# Add trailing slash to directories (to serve index.html properly)
RewriteCond %{REQUEST_FILENAME} -d
RewriteCond %{REQUEST_URI} !/$
RewriteRule ^(.*)$ $1/ [R=301,L]

# Remove trailing slashes from non-directories (for consistency and SEO)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)/$ /$1 [R=301,L]

# Redirect www to non-www (canonical URL for SEO)
RewriteBase /
RewriteCond %{HTTP_HOST} ^www\.balog-stoica\.com [NC]
RewriteRule ^(.*)$ https://balog-stoica.com/$1 [L,R=301]

# Redirect index.html to index.php (for CSRF protection migration)
RewriteCond %{THE_REQUEST} /index\.html [NC]
RewriteRule ^index\.html$ /index.php [R=301,L]

# Clean URLs - allow accessing .html files without extension (e.g., /about instead of /about.html)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([^.]+)$ $1.html [NC,L]

# Redirect .html extension to clean URL (e.g., /about.html -> /about)
RewriteCond %{THE_REQUEST} /([^.]+)\.html [NC]
RewriteRule ^ /%1 [NC,L,R]

# php -- BEGIN cPanel-generated handler, do not edit
# Set the "ea-php73" package as the default "PHP" programming language.
<IfModule mime_module>
  AddHandler application/x-httpd-ea-php73 .php .php7 .phtml
</IfModule>
# php -- END cPanel-generated handler, do not edit
